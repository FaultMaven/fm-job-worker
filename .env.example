# FaultMaven Job Worker - Environment Configuration
# Celery worker for background task processing

# ============================================================================
# Redis Configuration (Broker & Result Backend)
# ============================================================================

# Redis connection mode
# Options: "standalone" (default, dev/self-hosted) or "sentinel" (enterprise HA)
REDIS_MODE=standalone

# Standalone mode settings
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# Sentinel mode settings (only used when REDIS_MODE=sentinel)
# REDIS_SENTINEL_HOSTS: Comma-separated "host:port,host:port"
# Example: "redis-sentinel-1:26379,redis-sentinel-2:26379,redis-sentinel-3:26379"
REDIS_SENTINEL_HOSTS=
# REDIS_MASTER_SET: Sentinel master set name
REDIS_MASTER_SET=mymaster

# ============================================================================
# Celery Worker Configuration
# ============================================================================

# Worker concurrency (number of worker processes)
CELERY_WORKER_CONCURRENCY=4

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
CELERY_LOG_LEVEL=INFO

# ============================================================================
# Service Integration
# ============================================================================

# Knowledge service API endpoint (for ingestion tasks)
KNOWLEDGE_SERVICE_URL=http://localhost:8003

# Case service API endpoint (for cleanup tasks)
CASE_SERVICE_URL=http://localhost:8005

# Evidence service API endpoint (for file operations)
EVIDENCE_SERVICE_URL=http://localhost:8004

# ============================================================================
# Task Configuration
# ============================================================================

# Maximum task execution time (seconds)
TASK_TIME_LIMIT=3600

# Soft time limit for graceful shutdown (seconds)
TASK_SOFT_TIME_LIMIT=3300

# ============================================================================
# Application Settings
# ============================================================================

ENVIRONMENT=development
LOG_LEVEL=INFO
